
<!DOCTYPE html>

<html class="no-js" lang="fr">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<meta content="Contenu des labs du cours" name="description"/>
<meta content="Patrice MAUNY" name="author"/>
<link href="https://elasticlabs.github.io/ensg-sdi-masterclass-2025/Lab%2002%20-%20Composition%20d%27une%20IDG%20de%20base/" rel="canonical"/>
<link href="../Lab%2001%20-%20Mise%20en%20route/" rel="prev"/>
<link href="../Lab%2003%20-%20Organiser%20sa%20configuration/" rel="next"/>
<link href="../_assets/meta/favicons.png" rel="icon"/>
<meta content="mkdocs-1.6.1, mkdocs-material-9.5.49" name="generator"/>
<title>Lab 02 Composition d'une IDG de base - ENSG SDI Masterclass 2025</title>
<link href="../assets/stylesheets/main.6f8fc17f.min.css" rel="stylesheet"/>
<link href="../assets/stylesheets/palette.06af60db.min.css" rel="stylesheet"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Karla:300,300i,400,400i,700,700i%7CUbuntu+Mono:400,400i,700,700i&amp;display=fallback" rel="stylesheet"/>
<style>:root{--md-text-font:"Karla";--md-code-font:"Ubuntu Mono"}</style>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet"/>
<link href="../_static/css/admonition.css" rel="stylesheet"/>
<link href="../_static/css/custom_attributes.css" rel="stylesheet"/>
<link href="../_static/css/customization.css" rel="stylesheet"/>
<link href="https://cdn.jsdelivr.net/gh/Enveloppe/_static@refs/heads/master/dist/styles.css" rel="stylesheet"/>
<script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
<script src="https://unpkg.com/@popperjs/core@2/dist/umd/popper.min.js"></script>
<script src="https://unpkg.com/tippy.js@6/dist/tippy-bundle.umd.js"></script>
<link href="https://unpkg.com/tippy.js@6/animations/scale-subtle.css" rel="stylesheet"/>
<link href="https://unpkg.com/tippy.js@6/themes/translucent.css" rel="stylesheet"/>
<link crossorigin="anonymous" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" integrity="sha512-Fo3rlrZj/k7ujTnHg4CGR2D7kSs0v4LLanw2qksYuRlEzO+tcaEPQogQ0KaoGN26/zrn20ImR1DfuLWnOo7aBA==" referrerpolicy="no-referrer" rel="stylesheet"/>
<meta content="summary_large_image" name="twitter:card"/>
<meta content="https://elasticlabs.github.io/ensg-sdi-masterclass-2025/_assets/meta/logo.png" property="og:image"/>
<meta content="https://elasticlabs.github.io/ensg-sdi-masterclass-2025/_assets/meta/logo.png" name="twitter:image"/>
<meta content="https://elasticlabs.github.io/ensg-sdi-masterclass-2025/" name="site_url"/>
<meta content="Lab 02   Composition d'une IDG de base" property="og:title"/>
<meta content="Lab 02   Composition d'une IDG de base" name="twitter:title"/>
<meta content="Contenu des labs du cours" name="og:description"/>
<meta content="Contenu des labs du cours" name="twitter:description"/>
<script> document.title = "Lab 02   Composition d'une IDG de base" </script>
<link href="../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style> <script src="../assets/javascripts/glightbox.min.js"></script></head>
<body data-md-color-accent="light-blue" data-md-color-primary="teal" data-md-color-scheme="default" dir="ltr">
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="..">
          Aller au contenu
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
<nav aria-label="En-tÃªte" class="md-header__inner md-grid">
<a aria-label="ENSG SDI Masterclass 2025" class="md-header__button md-logo" data-md-component="logo" href=".." title="ENSG SDI Masterclass 2025">
<img alt="logo" src="../_assets/meta/logo.png"/>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            ENSG SDI Masterclass 2025
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
            
              Lab 02   Composition d'une IDG de base
            
          </span>
</div>
</div>
</div>
<form class="md-header__option" data-md-component="palette">
<input aria-label="Passer au mode sombre" class="md-option" data-md-color-accent="light-blue" data-md-color-media="(prefers-color-scheme: light)" data-md-color-primary="teal" data-md-color-scheme="default" id="__palette_0" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_1" hidden="" title="Passer au mode sombre">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"></path></svg>
</label>
<input aria-label="Passer en mode clair" class="md-option" data-md-color-accent="light-blue" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-primary="blue-grey" data-md-color-scheme="slate" id="__palette_1" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_0" hidden="" title="Passer en mode clair">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"></path></svg>
</label>
</form>
<script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
<label class="md-header__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="Rechercher" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" name="query" placeholder="Rechercher" required="" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg>
</label>
<nav aria-label="Recherche" class="md-search__options">
<button aria-label="Effacer" class="md-search__icon md-icon" tabindex="-1" title="Effacer" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg>
</button>
</nav>
<div class="md-search__suggest" data-md-component="search-suggest"></div>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="" tabindex="0">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            Initialisation de la recherche
          </div>
<ol class="md-search-result__list" role="presentation"></ol>
</div>
</div>
</div>
</div>
</div>
</nav>
<nav aria-label="Onglets" class="md-tabs" data-md-component="tabs">
<div class="md-grid">
<ul class="md-tabs__list">
<li class="md-tabs__item">
<a class="md-tabs__link" href="../Lab%2001%20-%20Mise%20en%20route/">
<svg height="18" viewbox="0 0 20 20" width="18" xmlns="http://www.w3.org/2000/svg"><path d="M3 5.5v6.604l1.5-2.6a3 3 0 0 1 2.599-1.5H15V7.5A1.5 1.5 0 0 0 13.5 6h-4a.5.5 0 0 1-.353-.146L7.44 4.146A.5.5 0 0 0 7.086 4H4.5A1.5 1.5 0 0 0 3 5.5m1.284 10.485q.106.015.22.015H13.9a2 2 0 0 0 1.732-1l2.163-3.745a1.5 1.5 0 0 0-1.3-2.25H7.1a2 2 0 0 0-1.732 1L3.205 13.75a1.5 1.5 0 0 0 1.079 2.235M2 14.46V5.5A2.5 2.5 0 0 1 4.5 3h2.586a1.5 1.5 0 0 1 1.06.44L9.708 5H13.5A2.5 2.5 0 0 1 16 7.5v.505h.496c1.925 0 3.128 2.083 2.166 3.75L16.499 15.5a3 3 0 0 1-2.598 1.5h-9.4q-.095 0-.186-.007a2.46 2.46 0 0 1-1.438-.592A2.5 2.5 0 0 1 2 14.461" fill="currentColor"></path></svg>
    
  
  Lab 01   Mise en route

      </a>
</li>
<li class="md-tabs__item md-tabs__item--active">
<a class="md-tabs__link" href="./">
<svg height="18" viewbox="0 0 20 20" width="18" xmlns="http://www.w3.org/2000/svg"><path d="M3 5.5v6.604l1.5-2.6a3 3 0 0 1 2.599-1.5H15V7.5A1.5 1.5 0 0 0 13.5 6h-4a.5.5 0 0 1-.353-.146L7.44 4.146A.5.5 0 0 0 7.086 4H4.5A1.5 1.5 0 0 0 3 5.5m1.284 10.485q.106.015.22.015H13.9a2 2 0 0 0 1.732-1l2.163-3.745a1.5 1.5 0 0 0-1.3-2.25H7.1a2 2 0 0 0-1.732 1L3.205 13.75a1.5 1.5 0 0 0 1.079 2.235M2 14.46V5.5A2.5 2.5 0 0 1 4.5 3h2.586a1.5 1.5 0 0 1 1.06.44L9.708 5H13.5A2.5 2.5 0 0 1 16 7.5v.505h.496c1.925 0 3.128 2.083 2.166 3.75L16.499 15.5a3 3 0 0 1-2.598 1.5h-9.4q-.095 0-.186-.007a2.46 2.46 0 0 1-1.438-.592A2.5 2.5 0 0 1 2 14.461" fill="currentColor"></path></svg>
    
  
  Lab 02   Composition d'une IDG de base

      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../Lab%2003%20-%20Organiser%20sa%20configuration/">
<svg height="18" viewbox="0 0 20 20" width="18" xmlns="http://www.w3.org/2000/svg"><path d="M3 5.5v6.604l1.5-2.6a3 3 0 0 1 2.599-1.5H15V7.5A1.5 1.5 0 0 0 13.5 6h-4a.5.5 0 0 1-.353-.146L7.44 4.146A.5.5 0 0 0 7.086 4H4.5A1.5 1.5 0 0 0 3 5.5m1.284 10.485q.106.015.22.015H13.9a2 2 0 0 0 1.732-1l2.163-3.745a1.5 1.5 0 0 0-1.3-2.25H7.1a2 2 0 0 0-1.732 1L3.205 13.75a1.5 1.5 0 0 0 1.079 2.235M2 14.46V5.5A2.5 2.5 0 0 1 4.5 3h2.586a1.5 1.5 0 0 1 1.06.44L9.708 5H13.5A2.5 2.5 0 0 1 16 7.5v.505h.496c1.925 0 3.128 2.083 2.166 3.75L16.499 15.5a3 3 0 0 1-2.598 1.5h-9.4q-.095 0-.186-.007a2.46 2.46 0 0 1-1.438-.592A2.5 2.5 0 0 1 2 14.461" fill="currentColor"></path></svg>
    
  
  Lab 03   Organiser sa configuration

      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../Lab%2004%20-%20Importer%20des%20donn%C3%A9es/">
<svg height="18" viewbox="0 0 20 20" width="18" xmlns="http://www.w3.org/2000/svg"><path d="M3 5.5v6.604l1.5-2.6a3 3 0 0 1 2.599-1.5H15V7.5A1.5 1.5 0 0 0 13.5 6h-4a.5.5 0 0 1-.353-.146L7.44 4.146A.5.5 0 0 0 7.086 4H4.5A1.5 1.5 0 0 0 3 5.5m1.284 10.485q.106.015.22.015H13.9a2 2 0 0 0 1.732-1l2.163-3.745a1.5 1.5 0 0 0-1.3-2.25H7.1a2 2 0 0 0-1.732 1L3.205 13.75a1.5 1.5 0 0 0 1.079 2.235M2 14.46V5.5A2.5 2.5 0 0 1 4.5 3h2.586a1.5 1.5 0 0 1 1.06.44L9.708 5H13.5A2.5 2.5 0 0 1 16 7.5v.505h.496c1.925 0 3.128 2.083 2.166 3.75L16.499 15.5a3 3 0 0 1-2.598 1.5h-9.4q-.095 0-.186-.007a2.46 2.46 0 0 1-1.438-.592A2.5 2.5 0 0 1 2 14.461" fill="currentColor"></path></svg>
    
  
  Lab 04   Importer des donnÃ©es

      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../blog/">
<svg height="18" viewbox="0 0 20 20" width="18" xmlns="http://www.w3.org/2000/svg"><path d="M3 5.5v6.604l1.5-2.6a3 3 0 0 1 2.599-1.5H15V7.5A1.5 1.5 0 0 0 13.5 6h-4a.5.5 0 0 1-.353-.146L7.44 4.146A.5.5 0 0 0 7.086 4H4.5A1.5 1.5 0 0 0 3 5.5m1.284 10.485q.106.015.22.015H13.9a2 2 0 0 0 1.732-1l2.163-3.745a1.5 1.5 0 0 0-1.3-2.25H7.1a2 2 0 0 0-1.732 1L3.205 13.75a1.5 1.5 0 0 0 1.079 2.235M2 14.46V5.5A2.5 2.5 0 0 1 4.5 3h2.586a1.5 1.5 0 0 1 1.06.44L9.708 5H13.5A2.5 2.5 0 0 1 16 7.5v.505h.496c1.925 0 3.128 2.083 2.166 3.75L16.499 15.5a3 3 0 0 1-2.598 1.5h-9.4q-.095 0-.186-.007a2.46 2.46 0 0 1-1.438-.592A2.5 2.5 0 0 1 2 14.461" fill="currentColor"></path></svg>
    
  
  Blog

        </a>
</li>
</ul>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary md-nav--lifted" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="ENSG SDI Masterclass 2025" class="md-nav__button md-logo" data-md-component="logo" href=".." title="ENSG SDI Masterclass 2025">
<img alt="logo" src="../_assets/meta/logo.png"/>
</a>
    ENSG SDI Masterclass 2025
  </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../Lab%2001%20-%20Mise%20en%20route/">
<svg fill="currentColor" height="16px" viewbox="0 0 24 24" width="16px" xmlns="http://www.w3.org/2000/svg"><path d="M19.903 8.586a.997.997 0 0 0-.196-.293l-6-6a.997.997 0 0 0-.293-.196c-.03-.014-.062-.022-.094-.033a.991.991 0 0 0-.259-.051C13.04 2.011 13.021 2 13 2H6c-1.103 0-2 .897-2 2v16c0 1.103.897 2 2 2h12c1.103 0 2-.897 2-2V9c0-.021-.011-.04-.013-.062a.952.952 0 0 0-.051-.259c-.01-.032-.019-.063-.033-.093zM16.586 8H14V5.414L16.586 8zM6 20V4h6v5a1 1 0 0 0 1 1h5l.002 10H6z"></path><path d="M8 12h8v2H8zm0 4h8v2H8zm0-8h2v2H8z"></path></svg>
<span class="md-ellipsis">
    Lab 01   Mise en route
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
<svg fill="currentColor" height="16px" viewbox="0 0 24 24" width="16px" xmlns="http://www.w3.org/2000/svg"><path d="M19.903 8.586a.997.997 0 0 0-.196-.293l-6-6a.997.997 0 0 0-.293-.196c-.03-.014-.062-.022-.094-.033a.991.991 0 0 0-.259-.051C13.04 2.011 13.021 2 13 2H6c-1.103 0-2 .897-2 2v16c0 1.103.897 2 2 2h12c1.103 0 2-.897 2-2V9c0-.021-.011-.04-.013-.062a.952.952 0 0 0-.051-.259c-.01-.032-.019-.063-.033-.093zM16.586 8H14V5.414L16.586 8zM6 20V4h6v5a1 1 0 0 0 1 1h5l.002 10H6z"></path><path d="M8 12h8v2H8zm0 4h8v2H8zm0-8h2v2H8z"></path></svg>
<span class="md-ellipsis">
    Lab 02   Composition d'une IDG de base
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<a class="md-nav__link md-nav__link--active" href="./">
<svg fill="currentColor" height="16px" viewbox="0 0 24 24" width="16px" xmlns="http://www.w3.org/2000/svg"><path d="M19.903 8.586a.997.997 0 0 0-.196-.293l-6-6a.997.997 0 0 0-.293-.196c-.03-.014-.062-.022-.094-.033a.991.991 0 0 0-.259-.051C13.04 2.011 13.021 2 13 2H6c-1.103 0-2 .897-2 2v16c0 1.103.897 2 2 2h12c1.103 0 2-.897 2-2V9c0-.021-.011-.04-.013-.062a.952.952 0 0 0-.051-.259c-.01-.032-.019-.063-.033-.093zM16.586 8H14V5.414L16.586 8zM6 20V4h6v5a1 1 0 0 0 1 1h5l.002 10H6z"></path><path d="M8 12h8v2H8zm0 4h8v2H8zm0-8h2v2H8z"></path></svg>
<span class="md-ellipsis">
    Lab 02   Composition d'une IDG de base
  </span>
</a>
<nav aria-label="Table des matiÃ¨res" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table des matiÃ¨res
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#objectifs">
<span class="md-ellipsis">
      Objectifs
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#prerequis">
<span class="md-ellipsis">
      PrÃ©requis
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#1-rappels-sur-docker-compose">
<span class="md-ellipsis">
      1. Rappels sur Docker Compose
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#2-deploiement-de-portainer">
<span class="md-ellipsis">
      2. DÃ©ploiement de Portainer
    </span>
</a>
<nav aria-label="2. DÃ©ploiement de Portainer" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#creez-le-reseau-sdi_apps">
<span class="md-ellipsis">
      CrÃ©ez le rÃ©seau sdi_apps
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#ajout-du-service-portainer">
<span class="md-ellipsis">
      Ajout du service Portainer
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#deploiement">
<span class="md-ellipsis">
      DÃ©ploiement
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#3-installation-de-postgresql-avec-postgis">
<span class="md-ellipsis">
      3. Installation de PostgreSQL avec PostGIS
    </span>
</a>
<nav aria-label="3. Installation de PostgreSQL avec PostGIS" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#ajout-du-service-postgresqlpostgis">
<span class="md-ellipsis">
      Ajout du service PostgreSQL/PostGIS
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#test-de-connexion-depuis-vs-code">
<span class="md-ellipsis">
      Test de connexion depuis VS Code
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#4-installation-et-configuration-de-pgadmin-4">
<span class="md-ellipsis">
      4. Installation et configuration de pgAdmin 4
    </span>
</a>
<nav aria-label="4. Installation et configuration de pgAdmin 4" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#ajout-du-service-pgadmin">
<span class="md-ellipsis">
      Ajout du service pgAdmin
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#deploiement_1">
<span class="md-ellipsis">
      DÃ©ploiement
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#installation-des-extensions-postgresql">
<span class="md-ellipsis">
      Installation des extensions PostgreSQL
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#5-deploiement-et-configuration-de-geoserver">
<span class="md-ellipsis">
      5. DÃ©ploiement et configuration de GeoServer
    </span>
</a>
<nav aria-label="5. DÃ©ploiement et configuration de GeoServer" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#ajout-du-service-geoserver">
<span class="md-ellipsis">
      Ajout du service GeoServer
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#deploiement_2">
<span class="md-ellipsis">
      DÃ©ploiement
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#connexion-a-postgresql">
<span class="md-ellipsis">
      Connexion Ã  PostgreSQL
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#6-import-de-donnees-openstreetmap-dans-postgis">
<span class="md-ellipsis">
      6. Import de donnÃ©es OpenStreetMap dans PostGIS
    </span>
</a>
<nav aria-label="6. Import de donnÃ©es OpenStreetMap dans PostGIS" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#telechargement-des-donnees">
<span class="md-ellipsis">
      TÃ©lÃ©chargement des donnÃ©es
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#installation-de-osm2pgsql">
<span class="md-ellipsis">
      Installation de osm2pgsql
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#importation-des-donnees-dans-postgis">
<span class="md-ellipsis">
      Importation des donnÃ©es dans PostGIS
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#verification">
<span class="md-ellipsis">
      VÃ©rification
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#quiz-final">
<span class="md-ellipsis">
      Quiz Final
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#conclusion">
<span class="md-ellipsis">
      Conclusion
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Lab%2003%20-%20Organiser%20sa%20configuration/">
<svg fill="currentColor" height="16px" viewbox="0 0 24 24" width="16px" xmlns="http://www.w3.org/2000/svg"><path d="M19.903 8.586a.997.997 0 0 0-.196-.293l-6-6a.997.997 0 0 0-.293-.196c-.03-.014-.062-.022-.094-.033a.991.991 0 0 0-.259-.051C13.04 2.011 13.021 2 13 2H6c-1.103 0-2 .897-2 2v16c0 1.103.897 2 2 2h12c1.103 0 2-.897 2-2V9c0-.021-.011-.04-.013-.062a.952.952 0 0 0-.051-.259c-.01-.032-.019-.063-.033-.093zM16.586 8H14V5.414L16.586 8zM6 20V4h6v5a1 1 0 0 0 1 1h5l.002 10H6z"></path><path d="M8 12h8v2H8zm0 4h8v2H8zm0-8h2v2H8z"></path></svg>
<span class="md-ellipsis">
    Lab 03   Organiser sa configuration
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Lab%2004%20-%20Importer%20des%20donn%C3%A9es/">
<svg fill="currentColor" height="16px" viewbox="0 0 24 24" width="16px" xmlns="http://www.w3.org/2000/svg"><path d="M19.903 8.586a.997.997 0 0 0-.196-.293l-6-6a.997.997 0 0 0-.293-.196c-.03-.014-.062-.022-.094-.033a.991.991 0 0 0-.259-.051C13.04 2.011 13.021 2 13 2H6c-1.103 0-2 .897-2 2v16c0 1.103.897 2 2 2h12c1.103 0 2-.897 2-2V9c0-.021-.011-.04-.013-.062a.952.952 0 0 0-.051-.259c-.01-.032-.019-.063-.033-.093zM16.586 8H14V5.414L16.586 8zM6 20V4h6v5a1 1 0 0 0 1 1h5l.002 10H6z"></path><path d="M8 12h8v2H8zm0 4h8v2H8zm0-8h2v2H8z"></path></svg>
<span class="md-ellipsis">
    Lab 04   Importer des donnÃ©es
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_5" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../blog/">
<svg height="18" viewbox="0 0 1024 1024" width="18" xmlns="http://www.w3.org/2000/svg"><path d="M843.5 737.4c-12.4-75.2-79.2-129.1-155.3-125.4S550.9 676 546 752c-153.5-4.8-208-40.7-199.1-113.7c3.3-27.3 19.8-41.9 50.1-49c18.4-4.3 38.8-4.9 57.3-3.2c1.7.2 3.5.3 5.2.5c11.3 2.7 22.8 5 34.3 6.8c34.1 5.6 68.8 8.4 101.8 6.6c92.8-5 156-45.9 159.2-132.7c3.1-84.1-54.7-143.7-147.9-183.6c-29.9-12.8-61.6-22.7-93.3-30.2c-14.3-3.4-26.3-5.7-35.2-7.2c-7.9-75.9-71.5-133.8-147.8-134.4S189.7 168 180.5 243.8s40 146.3 114.2 163.9s149.9-23.3 175.7-95.1c9.4 1.7 18.7 3.6 28 5.8c28.2 6.6 56.4 15.4 82.4 26.6c70.7 30.2 109.3 70.1 107.5 119.9c-1.6 44.6-33.6 65.2-96.2 68.6c-27.5 1.5-57.6-.9-87.3-5.8c-8.3-1.4-15.9-2.8-22.6-4.3c-3.9-.8-6.6-1.5-7.8-1.8l-3.1-.6c-2.2-.3-5.9-.8-10.7-1.3c-25-2.3-52.1-1.5-78.5 4.6c-55.2 12.9-93.9 47.2-101.1 105.8c-15.7 126.2 78.6 184.7 276 188.9c29.1 70.4 106.4 107.9 179.6 87c73.3-20.9 119.3-93.4 106.9-168.6M329.1 345.2c-46 0-83.3-37.3-83.3-83.3s37.3-83.3 83.3-83.3s83.3 37.3 83.3 83.3s-37.3 83.3-83.3 83.3M695.6 845c-46 0-83.3-37.3-83.3-83.3s37.3-83.3 83.3-83.3s83.3 37.3 83.3 83.3s-37.3 83.3-83.3 83.3" fill="currentColor"></path></svg>
<span class="md-ellipsis">
    Blog
  </span>
</a>
<label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_5_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_5">
<span class="md-nav__icon md-icon"></span>
            Blog
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="..">
<svg height="18" viewbox="0 0 20 20" width="18" xmlns="http://www.w3.org/2000/svg"><path d="M3 5.5v6.604l1.5-2.6a3 3 0 0 1 2.599-1.5H15V7.5A1.5 1.5 0 0 0 13.5 6h-4a.5.5 0 0 1-.353-.146L7.44 4.146A.5.5 0 0 0 7.086 4H4.5A1.5 1.5 0 0 0 3 5.5m1.284 10.485q.106.015.22.015H13.9a2 2 0 0 0 1.732-1l2.163-3.745a1.5 1.5 0 0 0-1.3-2.25H7.1a2 2 0 0 0-1.732 1L3.205 13.75a1.5 1.5 0 0 0 1.079 2.235M2 14.46V5.5A2.5 2.5 0 0 1 4.5 3h2.586a1.5 1.5 0 0 1 1.06.44L9.708 5H13.5A2.5 2.5 0 0 1 16 7.5v.505h.496c1.925 0 3.128 2.083 2.166 3.75L16.499 15.5a3 3 0 0 1-2.598 1.5h-9.4q-.095 0-.186-.007a2.46 2.46 0 0 1-1.438-.592A2.5 2.5 0 0 1 2 14.461" fill="currentColor"></path></svg>
<span class="md-ellipsis">
    Archive
  </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Table des matiÃ¨res" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table des matiÃ¨res
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#objectifs">
<span class="md-ellipsis">
      Objectifs
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#prerequis">
<span class="md-ellipsis">
      PrÃ©requis
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#1-rappels-sur-docker-compose">
<span class="md-ellipsis">
      1. Rappels sur Docker Compose
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#2-deploiement-de-portainer">
<span class="md-ellipsis">
      2. DÃ©ploiement de Portainer
    </span>
</a>
<nav aria-label="2. DÃ©ploiement de Portainer" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#creez-le-reseau-sdi_apps">
<span class="md-ellipsis">
      CrÃ©ez le rÃ©seau sdi_apps
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#ajout-du-service-portainer">
<span class="md-ellipsis">
      Ajout du service Portainer
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#deploiement">
<span class="md-ellipsis">
      DÃ©ploiement
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#3-installation-de-postgresql-avec-postgis">
<span class="md-ellipsis">
      3. Installation de PostgreSQL avec PostGIS
    </span>
</a>
<nav aria-label="3. Installation de PostgreSQL avec PostGIS" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#ajout-du-service-postgresqlpostgis">
<span class="md-ellipsis">
      Ajout du service PostgreSQL/PostGIS
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#test-de-connexion-depuis-vs-code">
<span class="md-ellipsis">
      Test de connexion depuis VS Code
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#4-installation-et-configuration-de-pgadmin-4">
<span class="md-ellipsis">
      4. Installation et configuration de pgAdmin 4
    </span>
</a>
<nav aria-label="4. Installation et configuration de pgAdmin 4" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#ajout-du-service-pgadmin">
<span class="md-ellipsis">
      Ajout du service pgAdmin
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#deploiement_1">
<span class="md-ellipsis">
      DÃ©ploiement
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#installation-des-extensions-postgresql">
<span class="md-ellipsis">
      Installation des extensions PostgreSQL
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#5-deploiement-et-configuration-de-geoserver">
<span class="md-ellipsis">
      5. DÃ©ploiement et configuration de GeoServer
    </span>
</a>
<nav aria-label="5. DÃ©ploiement et configuration de GeoServer" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#ajout-du-service-geoserver">
<span class="md-ellipsis">
      Ajout du service GeoServer
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#deploiement_2">
<span class="md-ellipsis">
      DÃ©ploiement
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#connexion-a-postgresql">
<span class="md-ellipsis">
      Connexion Ã  PostgreSQL
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#6-import-de-donnees-openstreetmap-dans-postgis">
<span class="md-ellipsis">
      6. Import de donnÃ©es OpenStreetMap dans PostGIS
    </span>
</a>
<nav aria-label="6. Import de donnÃ©es OpenStreetMap dans PostGIS" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#telechargement-des-donnees">
<span class="md-ellipsis">
      TÃ©lÃ©chargement des donnÃ©es
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#installation-de-osm2pgsql">
<span class="md-ellipsis">
      Installation de osm2pgsql
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#importation-des-donnees-dans-postgis">
<span class="md-ellipsis">
      Importation des donnÃ©es dans PostGIS
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#verification">
<span class="md-ellipsis">
      VÃ©rification
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#quiz-final">
<span class="md-ellipsis">
      Quiz Final
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#conclusion">
<span class="md-ellipsis">
      Conclusion
    </span>
</a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<!--
  Copyright (c) 2016-2023 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
-->
<!-- Tags -->
<nav class="md-tags">
</nav>
<!-- Actions -->
<!--
  Hack: check whether the content contains a h1 headline. If it doesn't, the
  page title (or respectively site name) is used as the main headline.
-->
<!-- Page content -->
<h3 id="objectifs">Objectifs<a class="headerlink" href="#objectifs" title="Permanent link">Â¶</a></h3>
<p>Ce laboratoire a pour objectif de vous apprendre Ã  dÃ©ployer une infrastructure de donnÃ©es gÃ©ospatiales en utilisant Docker Compose. Ã la fin de ce lab, vous serez capables de :</p>
<ul>
<li>Comprendre et utiliser Docker Compose pour dÃ©ployer plusieurs services</li>
<li>Installer et configurer un serveur PostgreSQL avec PostGIS</li>
<li>Administrer PostgreSQL avec pgAdmin 4</li>
<li>DÃ©ployer et configurer GeoServer</li>
<li>Importer des donnÃ©es OpenStreetMap dans PostGIS</li>
</ul>
<h3 id="prerequis">PrÃ©requis<a class="headerlink" href="#prerequis" title="Permanent link">Â¶</a></h3>
<ul>
<li>Connaissances de base en Docker</li>
<li>Connaissances de base en bases de donnÃ©es relationnelles</li>
<li>Notions en systÃ¨mes dâinformation gÃ©ographique (SIG)</li>
<li>Docker et Docker Compose installÃ©s sur votre machine</li>
</ul>
<hr/>
<h3 id="1-rappels-sur-docker-compose">1. Rappels sur Docker Compose<a class="headerlink" href="#1-rappels-sur-docker-compose" title="Permanent link">Â¶</a></h3>
<p>Docker Compose permet dâorchestrer plusieurs conteneurs Docker en dÃ©finissant leurs configurations dans un fichier <code>docker-compose.yml</code>.</p>
<p>Les avantages de Docker Compose :</p>
<ul>
<li>FacilitÃ© de dÃ©ploiement de plusieurs services</li>
<li>Gestion des dÃ©pendances entre services</li>
<li>Centralisation des configurations</li>
</ul>
<p>Dans ce lab, nous allons utiliser Docker Compose pour dÃ©ployer une infrastructure de donnÃ©es gÃ©ospatiales composÃ©e de plusieurs services :</p>
<ul>
<li><strong>Portainer</strong> : Interface web pour gÃ©rer les conteneurs Docker</li>
<li><strong>PostgreSQL/PostGIS</strong> : Base de donnÃ©es gÃ©ospatiale</li>
<li><strong>pgAdmin 4</strong> : Interface web pour administrer PostgreSQL</li>
<li><strong>GeoServer</strong> : Serveur de diffusion de donnÃ©es gÃ©ospatiales</li>
</ul>
<hr/>
<h3 id="2-deploiement-de-portainer">2. DÃ©ploiement de Portainer<a class="headerlink" href="#2-deploiement-de-portainer" title="Permanent link">Â¶</a></h3>
<p>Portainer permet dâadministrer Docker via une interface web. Nous allons dâabord le dÃ©ployer et crÃ©er un compte administrateur.</p>
<h4 id="creez-le-reseau-sdi_apps">CrÃ©ez le rÃ©seau <code>sdi_apps</code><a class="headerlink" href="#creez-le-reseau-sdi_apps" title="Permanent link">Â¶</a></h4>
<p>Ce rÃ©seau supportera lâensemble de nos services par la suite. Pour des raisons de simplification du dÃ©veloppement (mais pas de la configuration ð), les adresses IP sont fixÃ©es pour chaque service. </p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-0-1" id="__codelineno-0-1" name="__codelineno-0-1"></a>docker<span class="w"> </span>network<span class="w"> </span>create<span class="w"> </span>--subnet<span class="o">=</span><span class="m">172</span>.24.0.0/16<span class="w"> </span>--driver<span class="w"> </span>bridge<span class="w"> </span>sdi_apps
</code></pre></div>
<h3 id="ajout-du-service-portainer">Ajout du service Portainer<a class="headerlink" href="#ajout-du-service-portainer" title="Permanent link">Â¶</a></h3>
<p>Ajoutez le service suivant dans <code>docker-compose.yml</code> (attention! en soi, ce nâest pas du tout suffisant pour faire un fichier fonctionnel!)</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-1-1" id="__codelineno-1-1" name="__codelineno-1-1"></a><span class="w">  </span><span class="nt">portainer</span><span class="p">:</span>
<a href="#__codelineno-1-2" id="__codelineno-1-2" name="__codelineno-1-2"></a><span class="w">    </span><span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">portainer/portainer-ce</span>
<a href="#__codelineno-1-3" id="__codelineno-1-3" name="__codelineno-1-3"></a><span class="w">    </span><span class="nt">container_name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">portainer</span>
<a href="#__codelineno-1-4" id="__codelineno-1-4" name="__codelineno-1-4"></a><span class="w">    </span><span class="nt">restart</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">always</span>
<a href="#__codelineno-1-5" id="__codelineno-1-5" name="__codelineno-1-5"></a><span class="w">    </span><span class="nt">expose</span><span class="p">:</span>
<a href="#__codelineno-1-6" id="__codelineno-1-6" name="__codelineno-1-6"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">"9000"</span>
<a href="#__codelineno-1-7" id="__codelineno-1-7" name="__codelineno-1-7"></a><span class="w">    </span><span class="nt">volumes</span><span class="p">:</span>
<a href="#__codelineno-1-8" id="__codelineno-1-8" name="__codelineno-1-8"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/var/run/docker.sock:/var/run/docker.sock</span>
<a href="#__codelineno-1-9" id="__codelineno-1-9" name="__codelineno-1-9"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">portainer_data:/data</span>
<a href="#__codelineno-1-10" id="__codelineno-1-10" name="__codelineno-1-10"></a><span class="w">    </span><span class="nt">networks</span><span class="p">:</span>
<a href="#__codelineno-1-11" id="__codelineno-1-11" name="__codelineno-1-11"></a><span class="nt">&amp;emsp; &amp;emsp; &amp;emsp; sdi_apps</span><span class="p">:</span>
<a href="#__codelineno-1-12" id="__codelineno-1-12" name="__codelineno-1-12"></a><span class="nt">&amp;emsp; &amp;emsp; &amp;emsp; &amp;emsp; ipv4_address</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">172.24.0.22</span>
</code></pre></div>
<p><u>Question</u> : que devez-vous ajouter pour complÃ©ter cette configuration ? </p>
<ul>
<li>Indice : pensez aux volumes, au rÃ©seau, et Ã  la structure gÃ©nÃ©rale dâun fichier docker compose!</li>
</ul>
<h3 id="deploiement">DÃ©ploiement<a class="headerlink" href="#deploiement" title="Permanent link">Â¶</a></h3>
<p>Lancez Portainer avec :</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-2-1" id="__codelineno-2-1" name="__codelineno-2-1"></a>docker-compose<span class="w"> </span>up<span class="w"> </span>-d<span class="w"> </span>portainer
</code></pre></div>
<p>AccÃ©dez Ã  lâinterface de Portainer : <code>http://172.24.0.22:9000</code></p>
<ol>
<li>CrÃ©ez un compte administrateur</li>
<li>Connectez Portainer Ã  lâenvironnement Docker local</li>
</ol>
<p><u>Quizz</u> : quâelle est la diffÃ©rence entre les directive <code>expose</code> et <code>ports</code> ?</p>
<hr/>
<h2 id="3-installation-de-postgresql-avec-postgis">3. Installation de PostgreSQL avec PostGIS<a class="headerlink" href="#3-installation-de-postgresql-avec-postgis" title="Permanent link">Â¶</a></h2>
<p>Nous allons maintenant ajouter un service PostgreSQL avec lâextension PostGIS.</p>
<h3 id="ajout-du-service-postgresqlpostgis">Ajout du service PostgreSQL/PostGIS<a class="headerlink" href="#ajout-du-service-postgresqlpostgis" title="Permanent link">Â¶</a></h3>
<p>Ajoutez le bloc suivant dans <code>docker-compose.yml</code> :</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-3-1" id="__codelineno-3-1" name="__codelineno-3-1"></a><span class="w">  </span><span class="nt">postgis</span><span class="p">:</span>
<a href="#__codelineno-3-2" id="__codelineno-3-2" name="__codelineno-3-2"></a><span class="w">    </span><span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">postgis/postgis:16-3.4</span>
<a href="#__codelineno-3-3" id="__codelineno-3-3" name="__codelineno-3-3"></a><span class="w">    </span><span class="nt">container_name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">postgis</span>
<a href="#__codelineno-3-4" id="__codelineno-3-4" name="__codelineno-3-4"></a><span class="w">    </span><span class="nt">restart</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">always</span>
<a href="#__codelineno-3-5" id="__codelineno-3-5" name="__codelineno-3-5"></a><span class="w">    </span><span class="nt">expose</span><span class="p">:</span>
<a href="#__codelineno-3-6" id="__codelineno-3-6" name="__codelineno-3-6"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">"5432"</span>
<a href="#__codelineno-3-7" id="__codelineno-3-7" name="__codelineno-3-7"></a><span class="w">    </span><span class="nt">environment</span><span class="p">:</span>
<a href="#__codelineno-3-8" id="__codelineno-3-8" name="__codelineno-3-8"></a><span class="nt">&amp;emsp; &amp;emsp; &amp;emsp; POSTGRES_DB</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ensgdb</span>
<a href="#__codelineno-3-9" id="__codelineno-3-9" name="__codelineno-3-9"></a><span class="nt">&amp;emsp; &amp;emsp; &amp;emsp; POSTGRES_USER</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ensgadmin</span>
<a href="#__codelineno-3-10" id="__codelineno-3-10" name="__codelineno-3-10"></a><span class="nt">&amp;emsp; &amp;emsp; &amp;emsp; POSTGRES_PASSWORD</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ensgpassword</span>
<a href="#__codelineno-3-11" id="__codelineno-3-11" name="__codelineno-3-11"></a><span class="nt">&amp;emsp; &amp;emsp; &amp;emsp; ALLOW_IP_RANGE</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.0.0.0/0</span>
<a href="#__codelineno-3-12" id="__codelineno-3-12" name="__codelineno-3-12"></a><span class="nt">&amp;emsp; &amp;emsp; &amp;emsp; FORCE_SSL</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">FALSE</span>
<a href="#__codelineno-3-13" id="__codelineno-3-13" name="__codelineno-3-13"></a><span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">volumes</span><span class="p p-Indicator">:</span>
<a href="#__codelineno-3-14" id="__codelineno-3-14" name="__codelineno-3-14"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">postgis_data:/var/lib/postgresql/data</span>
<a href="#__codelineno-3-15" id="__codelineno-3-15" name="__codelineno-3-15"></a><span class="w w-Error">    </span><span class="nt">networks</span><span class="p">:</span>
<a href="#__codelineno-3-16" id="__codelineno-3-16" name="__codelineno-3-16"></a><span class="nt">&amp;emsp; &amp;emsp; &amp;emsp; sdi_apps</span><span class="p">:</span>
<a href="#__codelineno-3-17" id="__codelineno-3-17" name="__codelineno-3-17"></a><span class="nt">&amp;emsp; &amp;emsp; &amp;emsp; &amp;emsp; ipv4_address</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">172.24.0.10</span>
</code></pre></div>
<p>Lancez le service :</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-4-1" id="__codelineno-4-1" name="__codelineno-4-1"></a>docker-compose<span class="w"> </span>up<span class="w"> </span>-d<span class="w"> </span>postgis
</code></pre></div>
<p>VÃ©rifiez quâil fonctionne :</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-5-1" id="__codelineno-5-1" name="__codelineno-5-1"></a>docker<span class="w"> </span>ps
</code></pre></div>
<p>Testez la connexion :</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-6-1" id="__codelineno-6-1" name="__codelineno-6-1"></a>docker<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>-it<span class="w"> </span>postgis<span class="w"> </span>psql<span class="w"> </span>-U<span class="w"> </span>ensgadmin<span class="w"> </span>-d<span class="w"> </span>ensgdb
</code></pre></div>
<h3 id="test-de-connexion-depuis-vs-code">Test de connexion depuis VS Code<a class="headerlink" href="#test-de-connexion-depuis-vs-code" title="Permanent link">Â¶</a></h3>
<ol>
<li>Installez lâextension <strong>PostgreSQL</strong> dans VS Code.</li>
<li>Ouvrez le panneau <code>PostgreSQL Explorer</code>.</li>
<li>Cliquez sur <code>Add Connection</code> et renseignez :<ul>
<li><strong>Host</strong> : <code>172.24.0.10</code></li>
<li><strong>Port</strong> : <code>5432</code></li>
<li><strong>User</strong> : <code>ensgadmin</code></li>
<li><strong>Password</strong> : <code>ensgpassword</code></li>
<li><strong>Database</strong> : <code>ensgdb</code></li>
</ul>
</li>
<li>Testez la connexion.</li>
</ol>
<hr/>
<h2 id="4-installation-et-configuration-de-pgadmin-4">4. Installation et configuration de pgAdmin 4<a class="headerlink" href="#4-installation-et-configuration-de-pgadmin-4" title="Permanent link">Â¶</a></h2>
<p>pgAdmin est une interface web pour gÃ©rer PostgreSQL.</p>
<h3 id="ajout-du-service-pgadmin">Ajout du service pgAdmin<a class="headerlink" href="#ajout-du-service-pgadmin" title="Permanent link">Â¶</a></h3>
<p>Ajoutez le bloc suivant dans <code>docker-compose.yml</code> :</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-7-1" id="__codelineno-7-1" name="__codelineno-7-1"></a><span class="w">  </span><span class="nt">pgadmin</span><span class="p">:</span>
<a href="#__codelineno-7-2" id="__codelineno-7-2" name="__codelineno-7-2"></a><span class="w">    </span><span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">dpage/pgadmin4</span>
<a href="#__codelineno-7-3" id="__codelineno-7-3" name="__codelineno-7-3"></a><span class="w">    </span><span class="nt">container_name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">pgadmin</span>
<a href="#__codelineno-7-4" id="__codelineno-7-4" name="__codelineno-7-4"></a><span class="w">    </span><span class="nt">restart</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">always</span>
<a href="#__codelineno-7-5" id="__codelineno-7-5" name="__codelineno-7-5"></a><span class="w">    </span><span class="nt">environment</span><span class="p">:</span>
<a href="#__codelineno-7-6" id="__codelineno-7-6" name="__codelineno-7-6"></a><span class="w">      </span><span class="nt">PGADMIN_DEFAULT_EMAIL</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">admin@ensg.eu</span>
<a href="#__codelineno-7-7" id="__codelineno-7-7" name="__codelineno-7-7"></a><span class="w">      </span><span class="nt">PGADMIN_DEFAULT_PASSWORD</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ensgpassword</span>
<a href="#__codelineno-7-8" id="__codelineno-7-8" name="__codelineno-7-8"></a><span class="w">    </span><span class="nt">volumes</span><span class="p">:</span>
<a href="#__codelineno-7-9" id="__codelineno-7-9" name="__codelineno-7-9"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">pgadmin_data:/var/lib/pgadmin</span>
<a href="#__codelineno-7-10" id="__codelineno-7-10" name="__codelineno-7-10"></a><span class="w">    </span><span class="nt">expose</span><span class="p">:</span>
<a href="#__codelineno-7-11" id="__codelineno-7-11" name="__codelineno-7-11"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">"5050"</span>
<a href="#__codelineno-7-12" id="__codelineno-7-12" name="__codelineno-7-12"></a><span class="w">    </span><span class="nt">networks</span><span class="p">:</span>
<a href="#__codelineno-7-13" id="__codelineno-7-13" name="__codelineno-7-13"></a><span class="nt">&amp;emsp; &amp;emsp; &amp;emsp; sdi_apps</span><span class="p">:</span>
<a href="#__codelineno-7-14" id="__codelineno-7-14" name="__codelineno-7-14"></a><span class="nt">&amp;emsp; &amp;emsp; &amp;emsp; &amp;emsp; ipv4_address</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">172.24.0.20</span>
</code></pre></div>
<h3 id="deploiement_1">DÃ©ploiement<a class="headerlink" href="#deploiement_1" title="Permanent link">Â¶</a></h3>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-8-1" id="__codelineno-8-1" name="__codelineno-8-1"></a>docker-compose<span class="w"> </span>up<span class="w"> </span>-d<span class="w"> </span>pgadmin
</code></pre></div>
<p>AccÃ©dez Ã  <code>http://172.24.0.20:5050</code> et connectez-vous avec :</p>
<ul>
<li><strong>Email</strong> : <code>admin@ensg.eu</code></li>
<li><strong>Mot de passe</strong> : <code>ensgpassword</code></li>
</ul>
<h3 id="installation-des-extensions-postgresql">Installation des extensions PostgreSQL<a class="headerlink" href="#installation-des-extensions-postgresql" title="Permanent link">Â¶</a></h3>
<p>Dans lâinterface pgAdmin, exÃ©cutez les commandes suivantes :</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-9-1" id="__codelineno-9-1" name="__codelineno-9-1"></a><span class="k">CREATE</span><span class="w"> </span><span class="n">EXTENSION</span><span class="w"> </span><span class="n">postgis</span><span class="p">;</span>
<a href="#__codelineno-9-2" id="__codelineno-9-2" name="__codelineno-9-2"></a><span class="k">CREATE</span><span class="w"> </span><span class="n">EXTENSION</span><span class="w"> </span><span class="n">postgis_topology</span><span class="p">;</span>
<a href="#__codelineno-9-3" id="__codelineno-9-3" name="__codelineno-9-3"></a><span class="k">CREATE</span><span class="w"> </span><span class="n">EXTENSION</span><span class="w"> </span><span class="n">hstore</span><span class="p">;</span>
<a href="#__codelineno-9-4" id="__codelineno-9-4" name="__codelineno-9-4"></a><span class="k">CREATE</span><span class="w"> </span><span class="n">EXTENSION</span><span class="w"> </span><span class="n">pg_stat_statements</span><span class="p">;</span>
</code></pre></div>
<hr/>
<h2 id="5-deploiement-et-configuration-de-geoserver">5. DÃ©ploiement et configuration de GeoServer<a class="headerlink" href="#5-deploiement-et-configuration-de-geoserver" title="Permanent link">Â¶</a></h2>
<p>GeoServer permet de diffuser des donnÃ©es gÃ©ospatiales via des services OGC.</p>
<h3 id="ajout-du-service-geoserver">Ajout du service GeoServer<a class="headerlink" href="#ajout-du-service-geoserver" title="Permanent link">Â¶</a></h3>
<p>Ajoutez le bloc suivant dans <code>docker-compose.yml</code> :</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-10-1" id="__codelineno-10-1" name="__codelineno-10-1"></a><span class="w">  </span><span class="nt">geoserver</span><span class="p">:</span>
<a href="#__codelineno-10-2" id="__codelineno-10-2" name="__codelineno-10-2"></a><span class="w">    </span><span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">kartoza/geoserver</span>
<a href="#__codelineno-10-3" id="__codelineno-10-3" name="__codelineno-10-3"></a><span class="w">    </span><span class="nt">container_name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">geoserver</span>
<a href="#__codelineno-10-4" id="__codelineno-10-4" name="__codelineno-10-4"></a><span class="w">    </span><span class="nt">restart</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">always</span>
<a href="#__codelineno-10-5" id="__codelineno-10-5" name="__codelineno-10-5"></a><span class="w">    </span><span class="nt">environment</span><span class="p">:</span>
<a href="#__codelineno-10-6" id="__codelineno-10-6" name="__codelineno-10-6"></a><span class="nl">&amp;emsp</span><span class="l l-Scalar l-Scalar-Plain">; &amp;emsp; &amp;emsp; - "CORS_ENABLED=true"</span>
<a href="#__codelineno-10-7" id="__codelineno-10-7" name="__codelineno-10-7"></a><span class="l l-Scalar l-Scalar-Plain">&amp;emsp; &amp;emsp; &amp;emsp; - GEOSERVER_ADMIN_PASSWORD=geoserver</span>
<a href="#__codelineno-10-8" id="__codelineno-10-8" name="__codelineno-10-8"></a><span class="l l-Scalar l-Scalar-Plain">&amp;emsp; &amp;emsp; &amp;emsp; - GEOSERVER_ADMIN_USER=admin</span>
<a href="#__codelineno-10-9" id="__codelineno-10-9" name="__codelineno-10-9"></a><span class="l l-Scalar l-Scalar-Plain">&amp;emsp; &amp;emsp; &amp;emsp; - INITIAL_MEMORY=500M</span>
<a href="#__codelineno-10-10" id="__codelineno-10-10" name="__codelineno-10-10"></a><span class="l l-Scalar l-Scalar-Plain">&amp;emsp; &amp;emsp; &amp;emsp; - MAXIMUM_MEMORY=1G</span>
<a href="#__codelineno-10-11" id="__codelineno-10-11" name="__codelineno-10-11"></a><span class="l l-Scalar l-Scalar-Plain">&amp;emsp; &amp;emsp; &amp;emsp; - GEOSERVER_DATA_DIR=/opt/geoserver/data_dir</span>
<a href="#__codelineno-10-12" id="__codelineno-10-12" name="__codelineno-10-12"></a><span class="l l-Scalar l-Scalar-Plain">&amp;emsp; &amp;emsp; &amp;emsp; - GEOWEBCACHE_CACHE_DIR=/opt/geoserver/data_dir/gwc</span>
<a href="#__codelineno-10-13" id="__codelineno-10-13" name="__codelineno-10-13"></a><span class="l l-Scalar l-Scalar-Plain">&amp;emsp; &amp;emsp; &amp;emsp; - ROOT_WEBAPP_REDIRECT=true</span>
<a href="#__codelineno-10-14" id="__codelineno-10-14" name="__codelineno-10-14"></a><span class="l l-Scalar l-Scalar-Plain">&amp;emsp; &amp;emsp; &amp;emsp; - TOMCAT_EXTRAS=false</span>
<a href="#__codelineno-10-15" id="__codelineno-10-15" name="__codelineno-10-15"></a><span class="l l-Scalar l-Scalar-Plain">&amp;emsp; &amp;emsp; &amp;emsp; - SAMPLE_DATA=false</span>
<a href="#__codelineno-10-16" id="__codelineno-10-16" name="__codelineno-10-16"></a><span class="l l-Scalar l-Scalar-Plain">&amp;emsp; &amp;emsp; &amp;emsp;</span><span class="w"> </span><span class="c1"># Extensions set to be installed</span>
<a href="#__codelineno-10-17" id="__codelineno-10-17" name="__codelineno-10-17"></a><span class="nl">&amp;emsp</span><span class="l l-Scalar l-Scalar-Plain">; &amp;emsp; &amp;emsp; - "INSTALL_EXTENSIONS=true"</span>
<a href="#__codelineno-10-18" id="__codelineno-10-18" name="__codelineno-10-18"></a><span class="l l-Scalar l-Scalar-Plain">&amp;emsp; &amp;emsp; &amp;emsp; - STABLE_EXTENSIONS=css-plugin,importer-plugin,wmts-multi-dimensional-plugin</span>
<a href="#__codelineno-10-19" id="__codelineno-10-19" name="__codelineno-10-19"></a><span class="l l-Scalar l-Scalar-Plain">&amp;emsp; &amp;emsp; &amp;emsp; - COMMUNITY_EXTENSIONS=backup-restore-plugin,ogcapi-plugin,smart-data-loader-plugin,wmts-styles-plugin</span>
<a href="#__codelineno-10-20" id="__codelineno-10-20" name="__codelineno-10-20"></a><span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">expose</span><span class="p p-Indicator">:</span>
<a href="#__codelineno-10-21" id="__codelineno-10-21" name="__codelineno-10-21"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">"8080"</span>
<a href="#__codelineno-10-22" id="__codelineno-10-22" name="__codelineno-10-22"></a><span class="w w-Error">    </span><span class="nt">volumes</span><span class="p">:</span>
<a href="#__codelineno-10-23" id="__codelineno-10-23" name="__codelineno-10-23"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">geoserver_data:/opt/geoserver/data_dir</span>
<a href="#__codelineno-10-24" id="__codelineno-10-24" name="__codelineno-10-24"></a><span class="nl">&amp;emsp</span><span class="l l-Scalar l-Scalar-Plain">; &amp;emsp; &amp;emsp; - geoserver_bal:/opt/geoserver/data_dir/_BAL_</span>
<a href="#__codelineno-10-25" id="__codelineno-10-25" name="__codelineno-10-25"></a><span class="nl">&amp;emsp</span><span class="l l-Scalar l-Scalar-Plain">; &amp;emsp; &amp;emsp; - geoserver_settings:/settings</span>
<a href="#__codelineno-10-26" id="__codelineno-10-26" name="__codelineno-10-26"></a><span class="nt">&amp;emsp; &amp;emsp; networks</span><span class="p">:</span>
<a href="#__codelineno-10-27" id="__codelineno-10-27" name="__codelineno-10-27"></a><span class="nt">&amp;emsp; &amp;emsp; &amp;emsp; sdi_apps</span><span class="p">:</span>
<a href="#__codelineno-10-28" id="__codelineno-10-28" name="__codelineno-10-28"></a><span class="nt">&amp;emsp; &amp;emsp; &amp;emsp; &amp;emsp; ipv4_address</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">172.24.0.11</span>
</code></pre></div>
<h3 id="deploiement_2">DÃ©ploiement<a class="headerlink" href="#deploiement_2" title="Permanent link">Â¶</a></h3>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-11-1" id="__codelineno-11-1" name="__codelineno-11-1"></a>docker-compose<span class="w"> </span>up<span class="w"> </span>-d<span class="w"> </span>geoserver
</code></pre></div>
<p>AccÃ©dez Ã  <code>http://172.24.0.11:8080/geoserver</code> et connectez-vous avec :</p>
<ul>
<li><strong>Utilisateur</strong> : <code>admin</code></li>
<li><strong>Mot de passe</strong> : <code>geoserver</code></li>
</ul>
<h3 id="connexion-a-postgresql">Connexion Ã  PostgreSQL<a class="headerlink" href="#connexion-a-postgresql" title="Permanent link">Â¶</a></h3>
<ol>
<li>Dans GeoServer, allez dans <code>Stores &gt; Add new Store</code></li>
<li>Choisissez <code>PostGIS</code></li>
<li>Remplissez les champs :<ul>
<li><strong>Database</strong> : <code>ensgdb</code></li>
<li><strong>User</strong> : <code>ensgadmin</code></li>
<li><strong>Password</strong> : <code>ensgpassword</code></li>
<li><strong>Host</strong> : <code>postgis</code></li>
<li><strong>Port</strong> : <code>5432</code></li>
</ul>
</li>
<li>Cliquez sur <code>Save</code></li>
</ol>
<hr/>
<h2 id="6-import-de-donnees-openstreetmap-dans-postgis">6. Import de donnÃ©es OpenStreetMap dans PostGIS<a class="headerlink" href="#6-import-de-donnees-openstreetmap-dans-postgis" title="Permanent link">Â¶</a></h2>
<p>Nous allons importer des donnÃ©es OSM de la rÃ©gion Bretagne dans PostGIS.</p>
<h3 id="telechargement-des-donnees">TÃ©lÃ©chargement des donnÃ©es<a class="headerlink" href="#telechargement-des-donnees" title="Permanent link">Â¶</a></h3>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-12-1" id="__codelineno-12-1" name="__codelineno-12-1"></a>wget<span class="w"> </span>https://download.geofabrik.de/europe/france/bretagne-latest.osm.pbf
</code></pre></div>
<h3 id="installation-de-osm2pgsql">Installation de osm2pgsql<a class="headerlink" href="#installation-de-osm2pgsql" title="Permanent link">Â¶</a></h3>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-13-1" id="__codelineno-13-1" name="__codelineno-13-1"></a>sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>osm2pgsql
</code></pre></div>
<h3 id="importation-des-donnees-dans-postgis">Importation des donnÃ©es dans PostGIS<a class="headerlink" href="#importation-des-donnees-dans-postgis" title="Permanent link">Â¶</a></h3>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-14-1" id="__codelineno-14-1" name="__codelineno-14-1"></a>osm2pgsql<span class="w"> </span>-d<span class="w"> </span>ensgdb<span class="w"> </span>-U<span class="w"> </span>ensgadmin<span class="w"> </span>-H<span class="w"> </span><span class="m">172</span>.24.0.10<span class="w"> </span>-P<span class="w"> </span><span class="m">5432</span><span class="w"> </span>-W<span class="w"> </span>--create<span class="w"> </span>--slim<span class="w"> </span>--hstore<span class="w"> </span>bretagne-latest.osm.pbf
</code></pre></div>
<h3 id="verification">VÃ©rification<a class="headerlink" href="#verification" title="Permanent link">Â¶</a></h3>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-15-1" id="__codelineno-15-1" name="__codelineno-15-1"></a><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">planet_osm_point</span><span class="w"> </span><span class="k">LIMIT</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span>
</code></pre></div>
<hr/>
<h3 id="quiz-final">Quiz Final<a class="headerlink" href="#quiz-final" title="Permanent link">Â¶</a></h3>
<ol>
<li>
<p><strong>OÃ¹ se situent physiquement les donnÃ©es OSM importÃ©es ?</strong></p>
<ul>
<li>
<p>Quelle notion de Docker permet de conserver les donnÃ©es dâun conteneur aprÃ¨s son arrÃªt ?</p>
</li>
<li>
<p>Comment retrouver le chemin des volumes Docker sur votre machine ?</p>
</li>
</ul>
</li>
<li>
<p><strong>Quelle est la taille des images, des conteneurs et des volumes ?</strong></p>
<ul>
<li>
<p>Quelle commande permet dâafficher la taille des images Docker ?</p>
</li>
<li>
<p>Quelle commande permet de voir la taille des volumes Docker ?</p>
</li>
<li>
<p>OÃ¹ peut-on retrouver ces informations dans Portainer ?</p>
</li>
</ul>
</li>
<li>
<p><strong>Comment optimiser la taille des images Docker ?</strong></p>
<ul>
<li>
<p>Quels sont les Ã©lÃ©ments qui influencent la taille dâune image Docker ?</p>
</li>
<li>
<p>Quelles stratÃ©gies peuvent Ãªtre mises en place pour rÃ©duire la taille des images ?</p>
</li>
<li>
<p>Que pensez-vous des images multi-stage builds dans ce contexte ?</p>
</li>
</ul>
</li>
</ol>
<p>RÃ©pondez aux questions en exÃ©cutant les commandes nÃ©cessaires et en rÃ©flÃ©chissant aux bonnes pratiques dâoptimisation. ð</p>
<h2 id="conclusion">Conclusion<a class="headerlink" href="#conclusion" title="Permanent link">Â¶</a></h2>
<p>FÃ©licitations ! Vous avez mis en place une infrastructure de donnÃ©es gÃ©ospatiales avec Docker Compose. Vous pouvez maintenant exploiter ces donnÃ©es dans vos applications SIG.</p>
<!-- Source file information -->
<!-- taken from 
https://github.com/squidfunk/mkdocs-material/blob/master/src/partials/source-file.html -->
<hr/>
<div class="md-source-file">
<small>
<!-- mkdocs-git-revision-date-localized-plugin -->
<u>DerniÃ¨re mise Ã  jour</u> :
        <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">17 mars 2025</span>
<!-- mkdocs-git-revision-date-plugin -->
<br/>
<u>CrÃ©Ã©</u> :
        <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">16 mars 2025</span>
</small>
</div>
<!-- Was this page helpful? -->
<!-- Comment system -->
<script> 
    try {
      const index = document.querySelector('h1').innerHTML;
      if (index === "Index") {
        document.querySelector('h1').innerHTML = "Lab 02   Composition d'une IDG de base";
      }
    } catch (error) {
      // console.log(error);
    }
  </script>
</article>
</div>
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
</div>
<button class="md-top md-icon" data-md-component="top" hidden="" type="button">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"></path></svg>
  Retour en haut de la page
</button>
</main>
<footer class="md-footer">
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
      Material for MkDocs
    </a>
</div>
<div class="md-social">
<a class="md-social__link" href="https://github.com/Enveloppe/" rel="noopener" target="_blank" title="github.com">
<svg viewbox="0 0 496 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"></path></svg>
</a>
</div>
</div>
</div>
</footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<script id="__config" type="application/json">{"base": "..", "features": ["navigation.indexes", "navigation.top", "navigation.tabs", "navigation.tabs.sticky", "search.suggest", "search.highlight"], "search": "../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copi\u00e9 dans le presse-papier", "clipboard.copy": "Copier dans le presse-papier", "search.result.more.one": "1 de plus sur cette page", "search.result.more.other": "# de plus sur cette page", "search.result.none": "Aucun document trouv\u00e9", "search.result.one": "1 document trouv\u00e9", "search.result.other": "# documents trouv\u00e9s", "search.result.placeholder": "Taper pour d\u00e9marrer la recherche", "search.result.term.missing": "Non trouv\u00e9", "select.version": "S\u00e9lectionner la version"}}</script>
<script src="../assets/javascripts/bundle.88dd0f4e.min.js"></script>
<script src="../_static/js/mathjax.js"></script>
<script src="https://unpkg.com/mathjax@3/es5/tex-mml-chtml.js"></script>
<script src="../_static/js/snippets.js"></script>
<script src="https://cdn.jsdelivr.net/gh/Enveloppe/_static@refs/heads/master/dist/index.js"></script>
<script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></body>
</html>